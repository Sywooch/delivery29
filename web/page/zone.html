<?php
/* @var $this yii\web\View */
$this->title = 'Зоны доставки';
$zones = \app\models\DeliveryZone::getActive();
$customFormat = array(
	'Сульфат' => '<span class="label label-danger">%s</span>',
	'Маймакса' => '<span class="label label-danger">%s</span>',
	'Левый берег' => '<span class="label label-danger">%s</span>',
	'Соломбала' => '<span class="label label-warning">%s</span>',
	'Город' => '<span class="label label-success">%s</span>',
);
?>
<div class="container">
	<h1>Зоны доставки</h1>
	<hr>
	<div class="col-md-3">
				<p>Мы осуществляем доставку в следующие районы города:</p>
				<ul>
					<?php foreach($zones as $zone):?>
					<li>
						Доставка <?php echo $zone['name_to'];?> 
						<?php 
							$x = $zone['delivery_price'].'&nbsp;руб.';
							if ( array_key_exists($zone['name'], $customFormat) )
							{
								echo sprintf($customFormat[ $zone['name'] ], $x);
							}
							else
							{
								echo $x;
							}
						?>
					</li>
					<?php endforeach;?>
				</ul>
	</div>
	<div class="col-md-9">
		<script type="text/javascript" charset="utf-8" src="//api-maps.yandex.ru/services/constructor/1.0/js/?sid=yLpCsPk8BJ4t3YaLn3s9XQCB53SoHYMJ&id=deliveryZoneMap"></script>
		<div id="deliveryZoneMap" style="width:100%; height:500px">
		</div>
	</div>
</div>

